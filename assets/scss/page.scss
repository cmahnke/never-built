$show-page-duration: 500ms !default;

@keyframes fade-in {
  from {
    opacity: 0;
  }

  to {
    opacity: 1;
  }
}

@keyframes italics {
  from {
    transform: skewX(0deg);
  }

  to {
    transform: skewX(-10deg);
  }
}

body {
  &.section-post,
  &.section-books,
  &.section-.meta,
  &.section-.home,
  &.meta {
    * :not(.header-title) {
      animation-name: fade-in;
      animation-duration: $show-page-duration;
      animation-fill-mode: forwards;
    }
  }

  &.section-post {
    --page-background: #{$post-background};
    background: var(--page-background);
  }

  &.section-.meta,
  &.section-book, {
    --page-background: #{$meta-background};
    background: var(--page-background);
  }

  .article-single .post .content .post-body {
    .post-content {

    }

  }

  .post {
    .meta {
      display: flex;
      flex-direction: column;

      @media (min-width: 768px) {
        margin-top: 2.4rem;
        flex-direction: row;
        justify-content: space-between;

        .parent-section {
          align-self: flex-end;
        }
      }
    }
  }
}

.content {
  .date {
    /*margin-top: -2.4rem;*/
    margin-top: 1rem;
    display: block;
    margin-bottom: 2rem;
    text-align: end;
    color: color.adjust(black, $lightness: 50%);
  }
}

.main {

  .article-single,
  .section-single {
    .post .content .post-body {
      flex-wrap: wrap;
      display: flex;
      flex-direction: column;

      .sub-section-heading {
        flex-basis: 100%;
      }

      .iiif {
        .viewer {
          width: 80%;
        }

        &:only-of-type .viewer {
          margin: auto;
        }
      }
    }
  }

  .article-single {
    overflow: hidden;

    @media (min-width: 768px) {
      overflow: unset;
    }

    .post .content {
      .post-title {

      }

      .parent-section,
      .post-body {

        h1 {
          font-size: 1.6em;
          word-break: break-all;
        }

        a {
          @include invert-link($color: $accent-color);
          color: black;
          text-decoration-style: dotted;
          text-decoration-line: underline;
          text-decoration-thickness: 1px;
          text-decoration-skip-ink: auto;

          &:hover {
            text-decoration: none;
          }
        }

        .map-wrapper {
          width: 100%;

          @media (min-width: 768px) {
            min-height: unset;
            width: 30vw;
            aspect-ratio: 1 / 1;
            flex-basis: 50%;
          }
        }
      }

    }
  }

  .post-body {
    p:first-child {
      margin-block-start: 1.6em;
    }
  }
}


.tags-heading {
  font-weight: 200;
  font-size: 2rem;

  @media (min-width: 768px) {
    margin-bottom: .4rem;
    transform: skewX(3deg);
  }
}

.tags {
  font-weight: 100;
  font-style: italic;
  font-size: 2rem;

  @media (min-width: 768px) {
    text-align: end;
  }

  a {
    display: block;
    color: black;
    text-decoration: none;
  }
}

i.book-reference {
  &:after {
    content: url($book-dark);
    margin-right: 1rem;
    height: 1rem;
    width: 1rem;
    display: inline-block;

    @include scale-link($factor: $scale-factor);

    @media (min-width: 768px) {
      vertical-align: middle;
    }
  }
}

.parent-section {
  a {
    @include invert-link($color: $accent-color);
    color: black;
    text-decoration-style: dotted;
    text-decoration-line: underline;
    text-decoration-thickness: 1px;
    text-decoration-skip-ink: auto;

    &:hover {
      text-decoration: none;
    }
  }
}
